<html>
    <head>search website</head>
    <body>
        <hr>
        <button id="btn1" type="button">Search 1</button>
        <button id="btn2" type="button"> actual Search</button>
        <button id="btn3" type="button">Search 3</button>
        <button id="btn4" type="button">Search 4</button>
        <hr>
        <div id="content" style="display: block; width: 90%; height:500px; background-color:cornsilk; margin-top: 30px; padding: 10px;"></div>
    </body>
    <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js" integrity="sha512-odNmoc1XJy5x1TMVMdC7EMs3IVdItLPlCeL5vSUPN2llYKMJ2eByTTAIiiuqLg+GdNr9hF6z81p27DArRFKT7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        const socket = io("http://localhost:3000");

        socket.on("connect",()=>{
            console.log("client connected")
        })

        const btn1 = document.querySelector('#btn1');
        const btn2 = document.querySelector('#btn2'); 
        const btn3 = document.querySelector('#btn3');
        const btn4 = document.querySelector('#btn4');
        const response_area = document.querySelector('#content');

        function showResponse(content) {
        response_area.textContent += `\n\n${content}`;
        response_area.scrollTop = response_area.scrollHeight;
        }

        btn2.onclick = function(){
            socket.emit('start_timer','handshake')
            test();
            axios.all([
            axios.get('https://jsonplaceholder.typicode.com/posts'),
            axios.get('https://jsonplaceholder.typicode.com/posts'),
            axios.get('https://jsonplaceholder.typicode.com/posts'),
            axios.get('https://jsonplaceholder.typicode.com/posts'),
            axios.get('https://jsonplaceholder.typicode.com/posts'),
            ]).then(axios.spread(function (res1, res2, res3, res4, res5){
                showResponse(res1);
                showResponse(res2);
                showResponse(res3);
                showResponse(res4);
                showResponse(res5);
                console.log(res1.data);
            }))         
            .catch((err)=>{
                console.error(err); 
            })
            socket.on('process_complete',()=>{
                console.log('successful')
            })
        }
    </script>
</html>
